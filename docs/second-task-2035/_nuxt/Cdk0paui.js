import{u as E,m as F,n as x,p as T,r as $,f as S,c as u,o as i,a as f,q as h,_ as B,F as P,s as b,t as _,v as w,b as N,x as y,y as M,z as V,A as R}from"./CVl7ZM7h.js";const Y="$s";function q(...d){const v=typeof d[d.length-1]=="string"?d.pop():void 0;typeof d[0]!="string"&&d.unshift(v);const[r,t]=d;if(!r||typeof r!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+r);if(t!==void 0&&typeof t!="function")throw new Error("[nuxt] [useState] init must be a function: "+t);const o=Y+r,s=E(),c=F(s.payload.state,o);if(c.value===void 0&&t){const p=t();if(x(p))return s.payload.state[o]=p,p;c.value=p}return c}const z={class:"tabs"},K=T({__name:"Buttons",props:{activeTab:{type:String,default:"all"}},emits:["update:activeTab"],setup(d,{emit:v}){const r=d,t=v,o=$(r.activeTab);S(()=>r.activeTab,c=>{o.value=c});const s=c=>{o.value=c,t("update:activeTab",c)};return(c,p)=>(i(),u("div",z,[f("button",{class:h({active:d.activeTab==="all"}),onClick:p[0]||(p[0]=k=>s("all"))}," ВСЕ ПРОГРАММЫ ",2),f("button",{class:h({active:d.activeTab==="my"}),onClick:p[1]||(p[1]=k=>s("my"))}," МОИ ПРОГРАММЫ ",2)]))}}),H=B(K,[["__scopeId","data-v-bbf759d8"]]),L={class:"box"},U={key:0,class:"icon"},j=["src","alt"],G={class:"titleBox"},J={class:"title"},O={class:"deadline"},Q={key:0,class:"payed"},W={class:"buttonBox"},X=T({__name:"DynamicProgram",props:{title:{},deadline:{},pathImg:{},altImg:{},firstButton:{},payed:{type:Boolean}},emits:["move"],setup(d,{emit:v}){const r=v;return(t,o)=>(i(),u("div",L,[t.pathImg?(i(),u(P,{key:1},[t.pathImg?(i(),u("img",{key:0,class:"icon",src:t.pathImg,alt:t.altImg},null,8,j)):b("",!0)],64)):(i(),u("div",U)),f("div",G,[f("div",J,_(t.title),1),f("div",O,_(t.deadline),1),t.payed?(i(),u("div",Q," Куплено ")):b("",!0)]),f("div",W,[t.payed?b("",!0):(i(),u("button",{key:0,class:h([{"single-button":t.payed,"multiple-buttons":!t.payed},"more px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95"])},_(t.firstButton||"Подробнее"),3)),f("button",{onClick:o[0]||(o[0]=s=>r("move")),class:h(["pass",{"single-button":t.payed,"multiple-buttons":!t.payed}])},_(t.payed?"Смотреть":"Пройти"),3)])]))}}),Z=B(X,[["__scopeId","data-v-a4a9f06e"]]),tt=window.setInterval,et={class:"program"},at={key:0,class:"notFound"},nt={key:1,class:"pagination"},st=["onClick"],I=4,ot=T({__name:"index",setup(d){const v=e=>e%10===1&&e%100!==11?`${e} час`:[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?`${e} часа`:`${e} часов`,r=q("allPrograms",()=>Array.from({length:28},(e,n)=>{const a=Math.floor(Math.random()*24)+1;return{title:`Программа ${n+1}`,deadline:v(a),pathImg:"",altImg:"",payed:!1}})),t=$([{title:"Школа трекеров",deadline:"12-24 ноября",pathImg:"/images/myProgram.svg",altImg:"Изображение программы",payed:!0}]),o=$("all"),s=$(1),c=w(()=>o.value==="all"?r.value:t.value),p=w(()=>Math.ceil(c.value.length/I)),k=w(()=>{const e=(s.value-1)*I;return c.value.slice(e,e+I)});function A(e){const n=(s.value-1)*I+e;if(o.value==="all"){const a=r.value.splice(n,1)[0];a.payed=!a.payed,t.value.push(a)}else{const a=t.value.splice(n,1)[0];a.payed=!a.payed,r.value.push(a)}s.value>1&&k.value.length===0&&s.value--}const D=w(()=>{const e=[],n=p.value,a=s.value;if(n<=5)return Array.from({length:n},(m,C)=>C+1);e.push(1),a>3&&e.push("...");const g=Math.max(2,a-1),l=Math.min(n-1,a+1);for(let m=g;m<=l;m++)e.push(m);return a<n-2&&e.push("..."),e.push(n),e});return S(s,()=>{const e=document.querySelector(".buttons");if(!e)return;const n=250,a=e.getBoundingClientRect().top+window.scrollY,g=(a-window.scrollY)/(n/15),l=tt(()=>{Math.abs(window.scrollY-a)>Math.abs(g)?window.scrollBy(0,g):(window.scrollTo(0,a),clearInterval(l))},15)}),(e,n)=>{const a=H,g=Z;return i(),u("div",et,[N(a,{class:"buttons","active-tab":y(o),"onUpdate:activeTab":n[0]||(n[0]=l=>x(o)?o.value=l:null),onClick:n[1]||(n[1]=l=>s.value=1)},null,8,["active-tab"]),(i(!0),u(P,null,M(y(k),(l,m)=>(i(),V(g,R({key:m,ref_for:!0},l,{onMove:C=>A(m)}),null,16,["onMove"]))),128)),y(c).length<1?(i(),u("p",at,_(y(o)==="all"?"Нет доступных программ":"Нет активных программ"),1)):b("",!0),y(p)>1?(i(),u("div",nt,[(i(!0),u(P,null,M(y(D),l=>(i(),u("button",{key:l,onClick:m=>l!=="..."?s.value=l:null,class:h({active:y(s)===l})},_(l),11,st))),128))])):b("",!0)])}}}),it=B(ot,[["__scopeId","data-v-3ea58eb1"]]);export{it as default};
