import{u as F,m as N,n as x,p as B,r as k,f as V,c as i,o as n,a as f,q as b,_ as C,F as T,s as g,t as _,v as h,b as D,x as y,y as M,z as E,A as z}from"./BvgUK1SP.js";const K="$s";function R(...r){const v=typeof r[r.length-1]=="string"?r.pop():void 0;typeof r[0]!="string"&&r.unshift(v);const[o,t]=r;if(!o||typeof o!="string")throw new TypeError("[nuxt] [useState] key must be a string: "+o);if(t!==void 0&&typeof t!="function")throw new Error("[nuxt] [useState] init must be a function: "+t);const s=K+o,u=F(),l=N(u.payload.state,s);if(l.value===void 0&&t){const c=t();if(x(c))return u.payload.state[s]=c,c;l.value=c}return l}const q={class:"tabs"},H=B({__name:"Buttons",props:{activeTab:{type:String,default:"all"}},emits:["update:activeTab"],setup(r,{emit:v}){const o=r,t=v,s=k(o.activeTab);V(()=>o.activeTab,l=>{s.value=l});const u=l=>{s.value=l,t("update:activeTab",l)};return(l,c)=>(n(),i("div",q,[f("button",{class:b({active:r.activeTab==="all"}),onClick:c[0]||(c[0]=$=>u("all"))}," ВСЕ ПРОГРАММЫ ",2),f("button",{class:b({active:r.activeTab==="my"}),onClick:c[1]||(c[1]=$=>u("my"))}," МОИ ПРОГРАММЫ ",2)]))}}),L=C(H,[["__scopeId","data-v-bbf759d8"]]),U={class:"box"},j={key:0,class:"icon"},G=["src","alt"],J={class:"titleBox"},O={class:"title"},Q={class:"deadline"},W={key:0,class:"payed"},X={class:"buttonBox"},Y=B({__name:"DynamicProgram",props:{title:{},deadline:{},pathImg:{},altImg:{},firstButton:{},payed:{type:Boolean}},emits:["move"],setup(r,{emit:v}){const o=v;return(t,s)=>(n(),i("div",U,[t.pathImg?(n(),i(T,{key:1},[t.pathImg?(n(),i("img",{key:0,class:"icon",src:t.pathImg,alt:t.altImg},null,8,G)):g("",!0)],64)):(n(),i("div",j)),f("div",J,[f("div",O,_(t.title),1),f("div",Q,_(t.deadline),1),t.payed?(n(),i("div",W," Куплено ")):g("",!0)]),f("div",X,[t.payed?g("",!0):(n(),i("button",{key:0,class:b([{"single-button":t.payed,"multiple-buttons":!t.payed},"more px-6 py-3 bg-blue-500 text-white font-semibold rounded-lg shadow-md transition-all duration-300 ease-in-out transform hover:scale-105 active:scale-95"])},_(t.firstButton||"Подробнее"),3)),f("button",{onClick:s[0]||(s[0]=u=>o("move")),class:b(["pass",{"single-button":t.payed,"multiple-buttons":!t.payed}])},_(t.payed?"Смотреть":"Пройти"),3)])]))}}),Z=C(Y,[["__scopeId","data-v-f1aec3da"]]),tt={class:"program"},et={key:0,class:"notFound"},at={key:1,class:"pagination"},st=["onClick"],I=4,nt=B({__name:"index",setup(r){const v=e=>e%10===1&&e%100!==11?`${e} час`:[2,3,4].includes(e%10)&&![12,13,14].includes(e%100)?`${e} часа`:`${e} часов`,o=R("allPrograms",()=>Array.from({length:28},(e,a)=>{const p=Math.floor(Math.random()*24)+1;return{title:`Программа ${a+1}`,deadline:v(p),pathImg:"",altImg:"",payed:!1}})),t=k([{title:"Школа трекеров",deadline:"12-24 ноября",pathImg:"/images/myProgram.svg",altImg:"Изображение программы",payed:!0}]),s=k("all"),u=k(1),l=h(()=>s.value==="all"?o.value:t.value),c=h(()=>Math.ceil(l.value.length/I)),$=h(()=>{const e=(u.value-1)*I;return l.value.slice(e,e+I)});function S(e){if(s.value==="all"){const a=o.value.splice(e,1)[0];a.payed=!a.payed,t.value.push(a)}else{const a=t.value.splice(e,1)[0];a.payed=!a.payed,o.value.push(a)}}const A=h(()=>{const e=[],a=c.value,p=u.value;if(a<=5)return Array.from({length:a},(m,w)=>w+1);e.push(1),p>3&&e.push("...");const P=Math.max(2,p-1),d=Math.min(a-1,p+1);for(let m=P;m<=d;m++)e.push(m);return p<a-2&&e.push("..."),e.push(a),e});return(e,a)=>{const p=L,P=Z;return n(),i("div",tt,[D(p,{class:"buttons","active-tab":y(s),"onUpdate:activeTab":a[0]||(a[0]=d=>x(s)?s.value=d:null),onClick:a[1]||(a[1]=d=>u.value=1)},null,8,["active-tab"]),(n(!0),i(T,null,M(y($),(d,m)=>(n(),E(P,z({key:m,ref_for:!0},d,{onMove:w=>S(m)}),null,16,["onMove"]))),128)),y(l).length<1?(n(),i("p",et,_(y(s)==="all"?"Нет доступных программ":"Нет активных программ"),1)):g("",!0),y(c)>1?(n(),i("div",at,[(n(!0),i(T,null,M(y(A),d=>(n(),i("button",{key:d,onClick:m=>d!=="..."?u.value=d:null,class:b({active:y(u)===d})},_(d),11,st))),128))])):g("",!0)])}}}),lt=C(nt,[["__scopeId","data-v-8b5a92a9"]]);export{lt as default};
